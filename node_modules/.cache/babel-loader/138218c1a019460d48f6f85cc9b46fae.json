{"ast":null,"code":"import _regeneratorRuntime from\"/home/bipin/true/react/projects/react-projects/02-tours/setup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/bipin/true/react/projects/react-projects/02-tours/setup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/bipin/true/react/projects/react-projects/02-tours/setup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Loading from'./Loading';import Tours from'./Tours';// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nvar url='https://course-api.com/react-tours-project';function App(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tours=_useState4[0],setTours=_useState4[1];var removeTour=function removeTour(id){var newTours=tours.filter(function(tour){return tour.id!==id;});setTours(newTours);};var fetchTours=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_tours;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return fetch(url);case 4:response=_context.sent;_context.next=7;return response.json();case 7:_tours=_context.sent;setLoading(false);setTours(_tours);// console.log(tours,\" This is app js tours\")\n_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);setLoading(false);console.log(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));return function fetchTours(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchTours();},[]);if(loading){return/*#__PURE__*/React.createElement(Loading,null);}if(tours.length===0){return/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},/*#__PURE__*/React.createElement(\"h2\",null,\"no tours left\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn\",onClick:fetchTours},\"Refresh\")));}return/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(Tours,{tours:tours,removeTour:removeTour}));}export default App;","map":{"version":3,"sources":["/home/bipin/true/react/projects/react-projects/02-tours/setup/src/App.js"],"names":["React","useState","useEffect","Loading","Tours","url","App","loading","setLoading","tours","setTours","removeTour","id","newTours","filter","tour","fetchTours","fetch","response","json","console","log","length"],"mappings":"yhBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA;AACA;AACA,GAAMC,CAAAA,GAAG,CAAG,4CAAZ,CACA,QAASC,CAAAA,GAAT,EAAe,eAEiBL,QAAQ,CAAC,IAAD,CAFzB,wCAENM,OAFM,eAEGC,UAFH,8BAGaP,QAAQ,CAAC,EAAD,CAHrB,yCAGNQ,KAHM,eAGCC,QAHD,eAMb,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,EAAD,CAAQ,CACzB,GAAMC,CAAAA,QAAQ,CAAGJ,KAAK,CAACK,MAAN,CAAa,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACH,EAAL,GAAYA,EAAtB,EAAb,CAAjB,CACAF,QAAQ,CAACG,QAAD,CAAR,CACD,CAHD,CAKA,GAAMG,CAAAA,UAAU,0FAAG,uJACjBR,UAAU,CAAC,IAAD,CAAV,CADiB,sCAIQS,CAAAA,KAAK,CAACZ,GAAD,CAJb,QAITa,QAJS,qCAKKA,CAAAA,QAAQ,CAACC,IAAT,EALL,QAKTV,MALS,eAMfD,UAAU,CAAC,KAAD,CAAV,CACAE,QAAQ,CAACD,MAAD,CAAR,CACA;AARe,iFAWfD,UAAU,CAAC,KAAD,CAAV,CACAY,OAAO,CAACC,GAAR,cAZe,qEAAH,kBAAVL,CAAAA,UAAU,0CAAhB,CAgBAd,SAAS,CAAC,UAAI,CACZc,UAAU,GACX,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAGT,OAAH,CAAY,CACV,mBACE,oBAAC,OAAD,MADF,CAGD,CAED,GAAGE,KAAK,CAACa,MAAN,GAAiB,CAApB,CAAuB,CACrB,mBACA,6CACE,2BAAK,SAAS,CAAC,OAAf,eACE,8CADF,cAEE,8BAAQ,SAAS,CAAC,KAAlB,CAAwB,OAAO,CAAEN,UAAjC,YAFF,CADF,CADA,CAQD,CAED,mBACA,6CACE,oBAAC,KAAD,EAAO,KAAK,CAAEP,KAAd,CAAsB,UAAU,CAAEE,UAAlC,EADF,CADA,CAID,CAED,cAAeL,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Loading from './Loading'\nimport Tours from './Tours'\n// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nconst url = 'https://course-api.com/react-tours-project'\nfunction App() {\n\n  const [loading, setLoading] = useState(true);\n  const [tours, setTours] = useState([]);\n\n\n  const removeTour = (id) => {\n    const newTours = tours.filter((tour) => tour.id !== id);\n    setTours(newTours);\n  }\n\n  const fetchTours = async () => {\n    setLoading(true);\n\n    try{\n      const response = await fetch(url);\n      const tours = await response.json();\n      setLoading(false);\n      setTours(tours);\n      // console.log(tours,\" This is app js tours\")\n\n    } catch(error) {\n      setLoading(false);\n      console.log(error);\n    }\n  }\n\n  useEffect(()=>{\n    fetchTours();\n  }, [])\n\n  if(loading) {\n    return (\n      <Loading />\n    )\n  }\n\n  if(tours.length === 0) {\n    return(\n    <main> \n      <div className='title'>\n        <h2>no tours left</h2>\n        <button className='btn' onClick={fetchTours}>Refresh</button>\n      </div>\n    </main>\n    )\n  }\n\n  return(\n  <main>\n    <Tours tours={tours}  removeTour={removeTour}/>\n  </main>)\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}